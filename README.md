springfox swagger2
- generate swagger doc
springfox data rest
- work with spring  data rest to pick up autogenerated end points
springfox swagger ui
- Swagger UI
jcenter repository
- repository is added to pickup snapshot version of spring fox because at that time latest release has bug so using snapshot version
**MongoDB Setup**
- brew tap mongodb/brew
- brew install mongodb-community@6.0
- 2 options are available
   - brew services restart mongodb/brew/mongodb-community
   - /opt/homebrew/opt/mongodb-community/bin/mongod --config /opt/homebrew/etc/mongod.conf
   - mongosh
**spring boot docs**
   - https://docs.spring.io/spring-boot/docs
**springboot-actuator**
   - management.endpoint.<NAME>.enabled = true
   - management.endpoint.<PROTOCOL>.exposed.include= <ID OF ENDPOINT> // [ID OF ENDPOINT = metrics, beans] [PROTOCOL = jmx, http]
   - https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints
   - All the endpoints are enabled by default
**Docker**
   - docker-compose up -d
   - docker-compose down
   - docker ps
   - docker inspect <pid> 
   - docker inspect <pid> | grep "IPAddress"
   - docker build prune //remove cache manually
**MYSQL**
   - CREATE USER 'new_user'@'localhost' IDENTIFIED BY 'password';
   - GRANT <privileges> ON <database>.<object> TO '<user>'@'<host>';
   - ALTER USER 'username' IDENTIFIED WITH mysql_native_password BY 'password';
   - grant all privileges on *.* to root@localhost with grant option;
   - SHOW GRANTS FOR 'root'@'localhost';
   - SHOW GRANTS
   - select user,host from mysql.user;
   - DROP USER 'jeffrey'@'localhost';
   - CREATE USER 'username'@'localhost' IDENTIFIED BY 'password';
   - GRANT ALL PRIVILEGES ON database.* TO 'username'@'localhost' IDENTIFIED BY 'password';
   - docker create network db-network
   - docker run -it  --rm -p 3306:3306 -e MYSQL_ROOT_PASSWORD=password -e MYSQL_DATABASE=projectdb -v ${PWD}/db:/var/lib/mysql --net db-network --name db mysql:5.7
   - docker exec -it mytomcat /bin/bash
   - mv webapps webapps2
   - mv webapps.dist/ webapps
   - /usr/local/tomcat/webapps/host-manager/META-INF 
     - comment values section for ip address can access host manager
   - /usr/local/tomcat/tomcat-users.xml
     - uncomment users and set password

exit

**docker compose**
  - docker compose kill  //force fully stop container
  - docker compose rm    // remove container
  - docker container ls -a
  - docker compose up   // create container and run container from images
  - docker compose up build  // create image and container and then run
  - docker compose stop  // stop container
  - docker compose start // start container
  - docker compose down // stop and remove container
  - docker-compose down --rmi all
***Dockerfile**
     - docker build -f web.Dockerfile -t web-app-db .
     - docker run -p 9001:8080 -it --rm my-web-app // automatically remove when exited.
     - or
     - docker-compose up --build
     - or
     - docker compose up --build
     - docker-compose up
     - docker rmi image-name:tag
**Run multi stage dockerfile**
     - docker build -f maven-multi.Dockerfile -t my-web-maven-multi .
     - docker run -p 8080:9090 -it --rm my-web-maven-multi
**MYsql**
- @Column(name = "user_id",columnDefinition="VARCHAR(255) COLLATE utf8_bin")
- @Column(columnDefinition="VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_bin")
- spring.jpa.properties.hibernate.connection.characterEncoding=utf-8
  spring.jpa.properties.hibernate.connection.CharSet=utf-8
  spring.jpa.properties.hibernate.connection.useUnicode=true
  spring.jpa.properties.hibernate.connection.collationConnection=utf8_bin
- spring.datasource.url =jdbc:mysql://localhost:3306/iot_schema?createDatabaseIfNotExist=true&useUnicode=true&connectionCollation=utf8_bin&characterSetResults=utf8


**SET UP Without docker-compose**
- docker create network db-network
- docker run -it  --rm -p 3306:3306 -e MYSQL_ROOT_PASSWORD=password -e MYSQL_DATABASE=projectdb -v ${PWD}/db:/var/lib/mysql --net db-network --name db mysql:5.7
- docker build -f web.Dockerfile -t web-app-db .
- docker run -it --rm -p 8080:8080 --net db-network web-app-db